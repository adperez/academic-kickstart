---
title: "Comparing Two Means"
date: "Week 6"
output:
  rmdformats::readthedown:
    highlight: kate
css: custom.css
---

<style type="text/css">

body{ /* Normal  */
      font-size: 26px;
      line-height: 1.2;
  }
p{ /* Normal  */
      font-size: 26px;
      line-height: 1.2;
  }
 li{ /* Normal  */
      font-size: 24px;
      line-height: 1.2;
       padding: 5px 0px;
  }
td {  /* Table  */
  font-size: 8px;
}
h1.title {
  font-size: 38px;

}
h1 { /* Header 1 */
  font-size: 48px;

}
h2 { /* Header 2 */
    font-size: 36px;

}
h3 { /* Header 3 */
  font-size: 30px;


}

h4 { /* Header 4 */
  font-size: 28px;


}

code.r{ /* Code block */
    font-size: 40px;
}
pre { /* Code block - determines code spacing between lines */
    font-size: 18px;
}
</style>

```{r setup, echo=FALSE, cache=FALSE, warning = F, message = F}
library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=FALSE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)
```


```{r, echo = F,cache=FALSE, warning = F, message = F}
library(knitr)
library(formatR)
opts_chunk$set(tidy.opts=list(width.cutoff=70),tidy=TRUE)

```

## Aims

t-tests:

* Independent
* Dependent (aka paired, matched)

Rationale for the tests

* Assumptions

Interpretation  

Calculating an effect size  

Reporting results  


## Experiments

The simplest form of experiment that can be done is one with only one independent variable that is manipulated in only two ways and only one outcome is measured.  

* More often than not, the manipulation of the independent variable involves having an experimental condition and a control.
* E.g., Is the movie Scream 2 scarier than the original Scream? We could measure heart rates (which indicate anxiety) during both films and compare them.

This situation can be analysed with a t-test

## t-test

**Independent t-test:** Compares two means based on independent data.

* E.g., data from different groups of people.

**Dependent t-test:** Compares two means based on related data.

* E.g., Data from the same people measured at different times.

Significance testing

* Testing the significance of Pearson’s correlation coefficient


## Rationale for the t-test

Two samples of data are collected and the sample means calculated. These means might differ by either a little or a lot.  

If the samples come from the same population, then we expect their means to be roughly equal. Although it is possible for their means to differ by chance alone, we would expect large differences between sample means to occur very infrequently.  

We compare the difference between the sample means that we collected to the difference between the sample means that we would expect to obtain if there were no effect (i.e. if the null hypothesis were true). We use the standard error as a gauge of the variability between sample means.  

If the difference between the samples we have collected is larger than what we would expect based on the standard error then we can assume one of two things:

* There is no effect and sample means in our population fluctuate a lot and we have, by chance, collected two samples that are atypical of the population from which they came.
* The two samples come from different populations but are typical of their respective parent population. In this scenario, the difference between samples represents a genuine difference between the samples (and so the null hypothesis is incorrect).  

As the observed difference between the sample means gets larger, the more confident we become that the second explanation is correct (i.e. that the null hypothesis should be rejected). If the null hypothesis is incorrect, then we gain confidence that the two sample means differ because of the different experimental manipulation imposed on each sample.


![](images/week6/image1.png)

## Assumptions of the t-test  
Both the independent t-test and the dependent t-test are parametric tests based on the normal distribution. Therefore, they assume:

* The sampling distribution is normally distributed. In the dependent t.test this means that the sampling distribution of the differences between scores should be normal, not the scores themselves.
* Data are measured at least at the interval level.  

The independent t-test, because it is used to test different groups of people, also assumes:

* Variances in these populations are roughly equal (homogeneity of variance).
* Scores in different treatment conditions are independent (because they come from different people).

## Independent t-test example

*Is arachnophobia (fear of spiders) specific to real spiders or is a picture enough?*

Participants

* 24 arachnophobic individuals  

Manipulation (IV) with 2 levels:

* 12 participants were exposed to a real spider
* 12 were exposed to a picture of the same spider

Outcome (DV)

* Anxiety

### The Independent t-test Using R 

To do a t-test we use the function *t.test()*  

It follows the following format:
```{r, eval = F, echo = T}
t.test(outcome ~ predictor, data = dataFrame, paired = FALSE/TRUE)
```


*This is a NON paired (independent t-test) so paired = FALSE*

```{r, eval = F, echo = T}
t.test(Anxiety ~ Group, paired = FALSE, data = spiderdata)
```


#### Output in R

![](images/week6/image2.png)

#### Calculating an Effect Size

![](images/week6/image3.png)

#### Reporting the Results

On average, participants experienced greater anxiety from real spiders (M = 47.00, SE = 3.18), than from pictures of spiders (M = 40.00, SE = 2.68).  

This difference was not significant, t(21.4) = −1.68, p > .05; however, it did represent a medium-sized effect, r = .34.

### The Dependent t-test Using R 

*Is arachnophobia (fear of spiders) specific to real spiders or is a picture enough?*

Participants

* 12 spider phobic individuals

Manipulation

* Each participant was exposed to a real spider and a picture of the same spider at two points in time (SAME people)

Outcome

* Anxiety

### The Dependent t-test Using R 

To do a dependent t-test we again use the function t.test() but this time include the option paired = TRUE. 

```{r, eval = F, echo = T}
t.test(Anxiety ~ Group, paired = TRUE, data = spiderdata)
```

![](images/week6/image4.png)

#### Calculating an Effect Size

We can compute this value in the same way that we did for the independent t-test by executing:

```{r, eval = F, echo = T}
t<-dep.t.test$statistic[[1]]
df<-dep.t.test$parameter[[1]]

r <- sqrt(t^2/(t^2+df))
round(r, 3)
```


#### Reporting the Results
On average, participants experienced significantly greater anxiety from real spiders (M = 47.00, SE = 3.18) than from pictures of spiders (M = 40.00, SE = 2.68), t(11) = 2.47, p < .05, r = .60.

## When Assumptions are Broken
Dependent t-test

* Mann–Whitney test
* Wilcoxon rank-sum test

Independent t-test

* Wilcoxon signed-rank test



